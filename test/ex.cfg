process PROD = {

        source = EmptySource { 
                untracked int32 maxEvents = 20
        }
        
//        service = Timing { }

//        service = SimpleMemoryCheck {
//                untracked int32 ignoreTotal = -1 # default is one
//        } 

        untracked PSet options = {
           untracked bool wantSummary = true  # default is false
           untracked bool makeTriggerResults = true 
           vstring listOfTriggers = {"p1","p2"}
        }


//
// the following is not the most efficient configuration
// but allows to show the features possible, and how
// the trigger and timing reports are structured
//

        module reco1 = HLTProdCand {
                uint32 n = 10
                double scale = 100.
        }

        module reco2 = HLTProdCand {
                uint32 n = 20
                double scale =  50.
        }

        module hlt1 = HLTFiltCand {
                string srcPhot = "reco1"
                string srcElec = "reco1"
                string srcMuon = "reco1"
                double ptPhot  = 620.
                double ptElec  = 620.
                double ptMuon  = 620.
        }

        module hlt2 = HLTFiltCand {
                string srcPhot = "reco2"
                string srcElec = "reco2"
                string srcMuon = "reco2"
                double ptPhot  = 230.
                double ptElec  = 230.
                double ptMuon  = 230.
        }

        module presc1 = HLTPrescaler {
                bool   makeFilterObject = true
                uint32 prescaleFactor = 1
        }

        module presc2 = HLTPrescaler {
                bool   makeFilterObject = true
                uint32 prescaleFactor = 1
        }

        module p1c = HLTMakePathObject {
                vstring labels = {"hlt1" , "presc1"}
                vuint32 indices= {0, 1}
        }
        module p2c = HLTMakePathObject {
                vstring labels = {"hlt2" , "presc2"}
                vuint32 indices= {0, 1}
        }

        module glob = HLTMakeGlobalObject{
                vstring labels = {"p1c", "p2c"}
                vuint32 indices= {0,1}
        }

//      trigger paths

        path p1 = {reco1, hlt1, presc1, p1c}
        path p2 = {reco2, hlt2, presc2, p2c} 
        endpath end = {glob, anal1, anal, out}

        module anal1 = HLTAnalCand {
            string src = "hlt1"
        }

        module anal =  EventContentAnalyzer {}

        module out = PoolOutputModule {
          untracked string fileName = 'file:HLToutput.root'
          untracked PSet SelectEvents = {
          vstring SelectEvents = { "p1","p2" }
          }
        }

}
