process PROD  = {

        source = PoolSource { 
                untracked vstring fileNames = {'file:CaloTowers_HB_HO.root' }
                untracked int32 maxEvents = -1           
        }
        
//        service = Timing { }

//        service = SimpleMemoryCheck {
//                untracked int32 ignoreTotal = -1 # default is one
//        } 

        untracked PSet options = {
           untracked bool wantSummary = true  # default is false
           untracked bool makeTriggerResults = true 
           vstring listOfTriggers = {"p1","p2"}
        }


//
// the following is not the most efficient configuration
// but allows to show the features possible, and how
// the trigger and timing reports are structured
//

        module reco1 = HLTProdCand {
                uint32 n = 10
        }

        module reco2 = HLTProdCand {
                uint32 n = 20
        }

        module hlt1 = HLTFiltCand {
                string input = "reco1"
        }

        module hlt2 = HLTFiltCand {
                string input = "reco2"
        }

        module p1c = HLTMakePathObject {
                vstring labels = {"hlt1"}
                vuint32 indices= {0}
        }
        module p2c = HLTMakePathObject {
                vstring labels = {"hlt2"}
                vuint32 indices= {0}
        }

        module glob = HLTMakeGlobalObject{
                vstring labels = {"p1c", "p2c"}
                vuint32 indices= {0,1}
        }

//      trigger paths

        path p1 = {reco1, hlt1, p1c}
        path p2 = {reco2, hlt2, p2c} 
        endpath end = {glob,out}

//        path p1 = {reco1}
//        path p2 = {reco2}
//        endpath end = {out}

        module out = PoolOutputModule {
          untracked string fileName = 'file:MidpointJets_HB_HO_2.root'
          untracked PSet SelectEvents = {
          vstring SelectEvents = { "p1","p2" }
          }
        }

}
